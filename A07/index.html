<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dragon Ball Character Gallery</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: sans-serif;
        }

        .navbar {
            background-color: #e76a24 !important;
        }

        .navbar-brand,
        .nav-link {
            color: #F5F5DC !important;
            font-weight: bold;
        }

        #character-gallery-section {
            padding: 20px 10px;
        }

        #search-container {
            margin-bottom: 10px;
        }

        .character-card {
            border: 1px solid #cecbcb;
            padding: 8px;
            text-align: center;
            border-radius: 5px;
            max-height: 300px;
        }

        .character-card img,
        .card-img-top {
            width: 100%;
            height: auto;
        }

        body {
            overflow-x: hidden;
        }

        #search-container .input-group input {
            min-width: 280px;
            flex-grow: 1;
        }

        #search-container .input-group button {
            margin-left: 10px;
        }

        @media (max-width: 600px) {
            #search-container .input-group {
                flex-direction: column;
                align-items: stretch;
            }

            #search-container .input-group input {
                width: 100%;
                margin-bottom: 10px;
                margin-right: 0;
            }

            #search-container .input-group button {
                width: 100%;
                margin-left: 0 !important;
            }
        }

        #dragonBallMainContainer {
            display: none;
        }

        .card-body p,
        .card-body h5 {
            font-size: 14px;
        }

        .character-card {
            max-height: none;
        }


        @media (max-width: 768px) {
            #name {
                font-size: 1.2rem;
            }

            #type,
            #affiliation {
                font-size: 0.95rem;
            }
        }
    </style>
</head>

<body style="margin: 0; padding: 0; background-color:#F5F5DC;">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand">All About Dragon Ball</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#character-gallery-section">Characters Gallery</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#series-gallery-section">Series Gallery</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- CHARACTER SEARCH & DETAILS -->
    <div class="container mt-4 mb-3">
        <div class="row align-items-start">
            <div class="col-md-4 mt-1 mb-3 align-items-center">
                <img src="images/dgb.jfif" class="img-fluid rounded shadow w-100"
                    style="object-fit: cover; height: 500px; width: auto;" alt="Dragon Ball" />
            </div>

            <div class="col-md-8">
                <div class="row mb-3 align-items-center" id="search-container">
                    <div class="col-md-8">
                        <div class="input-group align-items-center">
                            <input type="text" class="form-control" id="dragonBallNameSearch"
                                placeholder="Search by character name..." />
                            <button class="btn btn-primary" onclick="getDragonBall()">Search</button>
                        </div>
                    </div>
                </div>

                <div class="container mt-3" id="dragonBallMainContainer">
                    <div class="row justify-content-center align-items-center">
                        <div class="col-md-5 text-center mb-3 mb-md-0">
                            <div id="picture-container" class="p-3 rounded shadow" style="background-color: #cccccc;">
                                <img src="" id="img" class="img-fluid rounded shadow"
                                    style="max-height: 400px; object-fit: contain;" alt="Character Image">
                            </div>
                        </div>

                        <div class="col-md-7">
                            <div class="card p-4 rounded shadow">
                                <div class="card-body text-left">
                                    <h4 class="card-title font-weight-bold" id="name">Character Name</h4>
                                    <p class="card-text" id="type"><strong>Race:</strong> </p>
                                    <p class="card-text" id="affiliation"><strong>Affiliation:</strong> </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <audio id="myAudio" preload="auto" autoplay>
                    <source src="dbz-teleport.mp3" type="audio/mpeg">
                </audio>
            </div>
        </div>
    </div>

    <!-- CHARACTERS GALLERY INFO -->
    <section class="text-center mt-3" id="character-gallery-section">
        <div class="container">
            <h3 class="font-weight-bold mt-1" style="font-family: Trebuchet MS; color: #000;">
                Characters Gallery
            </h3>
            <p class="fs-5 text-justify mt-3 mb-1" style="text-indent: 3em;">
                Discover the iconic warriors, heroes, and villains of Dragon Ballâ€”featuring unique powers, journeys, and
                unforgettable moments that shaped the universe!
            </p>
        </div>
    </section>

    <!-- CUSTOM CHARACTERS GALLERY -->
    <section class="text-center">
        <div class="container">
            <div class="row" id="custom-gallery"></div>
        </div>
    </section>

    <!-- SERIES GALLERY SECTION-->
    <section id="series-gallery-section" class="text-center mt-3">
        <div class="container">
            <h3 class="font-weight-bold" style="font-family: Trebuchet MS; color: #000;">
                Series Gallery
            </h3>
            <p class="fs-5 text-justify mt-3 mb-4" style="text-indent: 3em;">
                The Dragon Ball franchise chronicles Goku's evolution from a child
                seeking Dragon Balls to a powerful warrior. It features major arcs in Dragon Ball, Z, GT, Kai, Super,
                and Heroes, highlighting epic battles, legendary transformations, and expansions of the universe with
                gods and timelines.
            </p>
        </div>

        <div class="container my-3">
            <div class="row" id="container-row"></div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="text-center py-4 mt-5" style="background-color:#fbbc42; color: #01080a;">
        <div class="container">
            <p>View More Projects:
                <a href="https://patriciafalible.github.io/" class="text-primary" target="_blank">
                    ISHA DevHub
                </a>
            </p>
            <div class="text-center mt-4">
                <a href="https://patriciafalible.github.io/" class="text-decoration-none text-primary">
                    Back to Home
                </a>
            </div>
        </div>
        <div class="text-align-center mt-4 mb-2">
            <p>&copy; 2025 ISHA DevHub | Designed by: Patricia M. Falible</p>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script>
        const characterColors = {
            goku: "#F47B20", vegeta: "#1F1F7A", gohan: "#7B1FA2", piccolo: "#4CAF50",
            trunks: "#7986CB", krillin: "#F57C00", android18: "#90A4AE", frieza: "#A052D1",
            cell: "#4CAF50", majinbuu: "#F8BBD0", broly: "#00FF00", beerus: "#9575CD",
            whis: "#B3E5FC", bulma: "#E91E63", chichi: "#E57373", tien: "#C5E1A5",
            yamcha: "#FF7043", roshi: "#FFF176"
        };

        async function getDragonBall() {
            const nameInput = document.getElementById("dragonBallNameSearch").value.trim().toLowerCase();
            const mainContainer = document.getElementById("dragonBallMainContainer");
            const pictureContainer = document.getElementById("picture-container");
            const img = document.getElementById("img");
            const nameBox = document.getElementById("name");
            const typeBox = document.getElementById("type");
            const affiliationBox = document.getElementById("affiliation");
            const audio = document.getElementById("myAudio");

            if (!nameInput) return;

            try {
                const response = await fetch("https://dragonball-api.com/api/characters?limit=1000");
                const data = await response.json();
                const characters = data.items || data;
                const matched = characters.find(char => char.name.toLowerCase().includes(nameInput));

                if (matched) {
                    nameBox.innerHTML = `#${matched.id} ${matched.name.toUpperCase()}`;
                    typeBox.innerHTML = `<strong>Race:</strong> ${matched.race || "Unknown"}`;
                    affiliationBox.innerHTML = `<strong>Affiliation:</strong> ${matched.affiliation || "Unknown"}`;
                    img.src = matched.image || "";
                    pictureContainer.style.backgroundColor = characterColors[nameInput] || "#cccccc";
                    img.style.display = "block";
                    mainContainer.style.display = "block";
                    audio.currentTime = 0;
                    audio.play();
                } else {
                    nameBox.innerHTML = "Character not found!";
                    typeBox.innerHTML = "Please try again.";
                    affiliationBox.innerHTML = "";
                    pictureContainer.style.backgroundColor = characterColors[nameInput] || "#cccccc";
                    img.style.display = "none";
                    mainContainer.style.display = "block";
                }
            } catch (error) {
                console.error("Error fetching character:", error);
                nameBox.innerHTML = "Error occurred!";
                typeBox.innerHTML = "Check console.";
                affiliationBox.innerHTML = "";
                pictureContainer.style.backgroundColor = characterColors[nameInput] || "#cccccc";
                img.style.display = "none";
                mainContainer.style.display = "block";
            }
        }

        async function loadAllCharacters() {
            const customRow = document.getElementById("custom-gallery");

            try {
                const response = await fetch("https://dragonball-api.com/api/characters?limit=1000");
                const data = await response.json();
                const characters = data.items || data;

                const limitedCharacters = characters.slice(0, 40);
                
                limitedCharacters.forEach(character => {
                    customRow.innerHTML += `
   <div class="col-6 col-sm-6 col-md-4 col-lg-3">
       <div class="card my-3 shadow rounded-5 overflow-hidden hover-effect">
           <img src="${character.image}" class="card-img-top" alt="${character.name}" style="height: 250px; object-fit: contain;">
           <div class="card-body">
               <h5 class="card-title">${character.name}</h5>
               <p class="card-text"><strong>Race:</strong> ${character.race || 'N/A'}</p>
               <!-- Link to view.html with character ID -->
              <a href="view.html" class="btn btn-primary">View More Details</a>
           </div>
       </div>
   </div>
`;

                });
            } catch (error) {
                console.error("Failed to load characters:", error);
            }
        }

        const titles = [
            "Dragon Ball", "Dragon Ball Z", "Dragon Ball GT",
            "Dragon Ball Super", "Dragon Ball Kai", "Super Dragon Ball Heroes"
        ];
        const pictures = [
            "images/dragon ball.jfif", "images/dragon ball z.jfif", "images/dragon ball GT.jpg",
            "images/dragon ball super.jfif", "images/dragon ball kai.jpg", "images/super db heroes.jpg"
        ];
        const contents = [
            "Dragon Ball explores Goku's youth...",
            "Dragon Ball Z follows Goku defending Earth...",
            "Dragon Ball GT follows child Goku...",
            "Dragon Ball Super expands Goku's adventures...",
            "Dragon Ball Kai remasters DBZ...",
            "Super Dragon Ball Heroes showcases alternate scenarios..."
        ];

        window.onload = function () {
            loadAllCharacters();

            const rowElement = document.getElementById("container-row");
            for (let i = 0; i < titles.length; i++) {
                rowElement.innerHTML += `
                    <div class="col-12 col-sm-6 col-md-4 d-flex mb-4">
                        <div class="card shadow rounded-5 overflow-hidden h-100 w-100 hover-effect">
                            <img src="${pictures[i]}" class="card-img-top" alt="${titles[i]}" style="height: 200px; object-fit: cover;">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title mb-2">${titles[i]}</h5>
                                <p class="card-text">${contents[i]}</p>
                            </div>
                        </div>
                    </div>`;
            }
        };
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>